<!DOCTYPE html>
<html lang="it">
<head>
  <meta charset="UTF-8">
  <title>Quiz Robinson Crusoe</title>
  <style>
    body { font-family: Arial, sans-serif; margin: 40px; }
    h1 { color: #2c3e50; }
    .domanda { margin-bottom: 20px; padding: 15px; border: 1px solid #ccc; border-radius: 8px; }
    .domanda p { font-weight: bold; }
    .opzione { margin: 4px 0; }
    textarea { width: 100%; height: 100px; margin-top: 10px; }
    #invia { margin-top: 30px; padding: 10px 20px; font-size: 16px; }
    #contenutoPdf { display: none; }
  </style>
</head>
<body>
  <h1>Quiz Robinson Crusoe</h1>
  <div id="quiz"></div>
  <button id="invia">INVIA</button>
  <div id="contenutoPdf"></div>

  <script src="https://cdnjs.cloudflare.com/ajax/libs/html2pdf.js/0.10.1/html2pdf.bundle.min.js"></script>

  <script>
    const tutteDomande = [{"domanda": "Domanda 1: Qual è la risposta corretta?", "tipo": "scelta_multipla", "opzioni": ["Opzione A", "Opzione B", "Opzione C", "Opzione D"]}, {"domanda": "Domanda 2: Qual è la risposta corretta?", "tipo": "scelta_multipla", "opzioni": ["Opzione A", "Opzione B", "Opzione C", "Opzione D"]}, {"domanda": "Domanda 3: Qual è la risposta corretta?", "tipo": "scelta_multipla", "opzioni": ["Opzione A", "Opzione B", "Opzione C", "Opzione D"]}, {"domanda": "Domanda 4: Qual è la risposta corretta?", "tipo": "scelta_multipla", "opzioni": ["Opzione A", "Opzione B", "Opzione C", "Opzione D"]}, {"domanda": "Domanda 5: Qual è la risposta corretta?", "tipo": "scelta_multipla", "opzioni": ["Opzione A", "Opzione B", "Opzione C", "Opzione D"]}, {"domanda": "Domanda 6: Qual è la risposta corretta?", "tipo": "scelta_multipla", "opzioni": ["Opzione A", "Opzione B", "Opzione C", "Opzione D"]}, {"domanda": "Domanda 7: Qual è la risposta corretta?", "tipo": "scelta_multipla", "opzioni": ["Opzione A", "Opzione B", "Opzione C", "Opzione D"]}, {"domanda": "Domanda 8: Qual è la risposta corretta?", "tipo": "scelta_multipla", "opzioni": ["Opzione A", "Opzione B", "Opzione C", "Opzione D"]}, {"domanda": "Domanda 9: Qual è la risposta corretta?", "tipo": "scelta_multipla", "opzioni": ["Opzione A", "Opzione B", "Opzione C", "Opzione D"]}, {"domanda": "Domanda 10: Qual è la risposta corretta?", "tipo": "scelta_multipla", "opzioni": ["Opzione A", "Opzione B", "Opzione C", "Opzione D"]}, {"domanda": "Domanda 11: Qual è la risposta corretta?", "tipo": "scelta_multipla", "opzioni": ["Opzione A", "Opzione B", "Opzione C", "Opzione D"]}, {"domanda": "Domanda 12: Qual è la risposta corretta?", "tipo": "scelta_multipla", "opzioni": ["Opzione A", "Opzione B", "Opzione C", "Opzione D"]}, {"domanda": "Domanda 13: Qual è la risposta corretta?", "tipo": "scelta_multipla", "opzioni": ["Opzione A", "Opzione B", "Opzione C", "Opzione D"]}, {"domanda": "Domanda 14: Qual è la risposta corretta?", "tipo": "scelta_multipla", "opzioni": ["Opzione A", "Opzione B", "Opzione C", "Opzione D"]}, {"domanda": "Domanda 15: Qual è la risposta corretta?", "tipo": "scelta_multipla", "opzioni": ["Opzione A", "Opzione B", "Opzione C", "Opzione D"]}, {"domanda": "Domanda 16: Qual è la risposta corretta?", "tipo": "scelta_multipla", "opzioni": ["Opzione A", "Opzione B", "Opzione C", "Opzione D"]}, {"domanda": "Domanda 17: Qual è la risposta corretta?", "tipo": "scelta_multipla", "opzioni": ["Opzione A", "Opzione B", "Opzione C", "Opzione D"]}, {"domanda": "Domanda 18: Qual è la risposta corretta?", "tipo": "scelta_multipla", "opzioni": ["Opzione A", "Opzione B", "Opzione C", "Opzione D"]}, {"domanda": "Domanda 19: Qual è la risposta corretta?", "tipo": "scelta_multipla", "opzioni": ["Opzione A", "Opzione B", "Opzione C", "Opzione D"]}, {"domanda": "Domanda 20: Qual è la risposta corretta?", "tipo": "scelta_multipla", "opzioni": ["Opzione A", "Opzione B", "Opzione C", "Opzione D"]}, {"domanda": "Domanda 21: Qual è la risposta corretta?", "tipo": "scelta_multipla", "opzioni": ["Opzione A", "Opzione B", "Opzione C", "Opzione D"]}, {"domanda": "Domanda 22: Qual è la risposta corretta?", "tipo": "scelta_multipla", "opzioni": ["Opzione A", "Opzione B", "Opzione C", "Opzione D"]}, {"domanda": "Domanda 23: Qual è la risposta corretta?", "tipo": "scelta_multipla", "opzioni": ["Opzione A", "Opzione B", "Opzione C", "Opzione D"]}, {"domanda": "Domanda 24: Qual è la risposta corretta?", "tipo": "scelta_multipla", "opzioni": ["Opzione A", "Opzione B", "Opzione C", "Opzione D"]}, {"domanda": "Domanda 25: Qual è la risposta corretta?", "tipo": "scelta_multipla", "opzioni": ["Opzione A", "Opzione B", "Opzione C", "Opzione D"]}, {"domanda": "Domanda 26: Qual è la risposta corretta?", "tipo": "scelta_multipla", "opzioni": ["Opzione A", "Opzione B", "Opzione C", "Opzione D"]}, {"domanda": "Domanda 27: Qual è la risposta corretta?", "tipo": "scelta_multipla", "opzioni": ["Opzione A", "Opzione B", "Opzione C", "Opzione D"]}, {"domanda": "Domanda 28: Qual è la risposta corretta?", "tipo": "scelta_multipla", "opzioni": ["Opzione A", "Opzione B", "Opzione C", "Opzione D"]}, {"domanda": "Domanda 29: Qual è la risposta corretta?", "tipo": "scelta_multipla", "opzioni": ["Opzione A", "Opzione B", "Opzione C", "Opzione D"]}, {"domanda": "Domanda 30: Qual è la risposta corretta?", "tipo": "scelta_multipla", "opzioni": ["Opzione A", "Opzione B", "Opzione C", "Opzione D"]}, {"domanda": "Domanda 31: Qual è la risposta corretta?", "tipo": "scelta_multipla", "opzioni": ["Opzione A", "Opzione B", "Opzione C", "Opzione D"]}, {"domanda": "Domanda 32: Qual è la risposta corretta?", "tipo": "scelta_multipla", "opzioni": ["Opzione A", "Opzione B", "Opzione C", "Opzione D"]}, {"domanda": "Domanda 33: Qual è la risposta corretta?", "tipo": "scelta_multipla", "opzioni": ["Opzione A", "Opzione B", "Opzione C", "Opzione D"]}, {"domanda": "Domanda 34: Qual è la risposta corretta?", "tipo": "scelta_multipla", "opzioni": ["Opzione A", "Opzione B", "Opzione C", "Opzione D"]}, {"domanda": "Domanda 35: Qual è la risposta corretta?", "tipo": "scelta_multipla", "opzioni": ["Opzione A", "Opzione B", "Opzione C", "Opzione D"]}, {"domanda": "Domanda 36: Qual è la risposta corretta?", "tipo": "scelta_multipla", "opzioni": ["Opzione A", "Opzione B", "Opzione C", "Opzione D"]}, {"domanda": "Domanda 37: Qual è la risposta corretta?", "tipo": "scelta_multipla", "opzioni": ["Opzione A", "Opzione B", "Opzione C", "Opzione D"]}, {"domanda": "Domanda 38: Qual è la risposta corretta?", "tipo": "scelta_multipla", "opzioni": ["Opzione A", "Opzione B", "Opzione C", "Opzione D"]}, {"domanda": "Domanda 39: Qual è la risposta corretta?", "tipo": "scelta_multipla", "opzioni": ["Opzione A", "Opzione B", "Opzione C", "Opzione D"]}, {"domanda": "Domanda 40: Qual è la risposta corretta?", "tipo": "scelta_multipla", "opzioni": ["Opzione A", "Opzione B", "Opzione C", "Opzione D"]}, {"domanda": "Domanda 41: Qual è la risposta corretta?", "tipo": "scelta_multipla", "opzioni": ["Opzione A", "Opzione B", "Opzione C", "Opzione D"]}, {"domanda": "Domanda 42: Qual è la risposta corretta?", "tipo": "scelta_multipla", "opzioni": ["Opzione A", "Opzione B", "Opzione C", "Opzione D"]}, {"domanda": "Domanda 43: Qual è la risposta corretta?", "tipo": "scelta_multipla", "opzioni": ["Opzione A", "Opzione B", "Opzione C", "Opzione D"]}, {"domanda": "Domanda 44: Qual è la risposta corretta?", "tipo": "scelta_multipla", "opzioni": ["Opzione A", "Opzione B", "Opzione C", "Opzione D"]}, {"domanda": "Domanda 45: Qual è la risposta corretta?", "tipo": "scelta_multipla", "opzioni": ["Opzione A", "Opzione B", "Opzione C", "Opzione D"]}, {"domanda": "Domanda 46: Qual è la risposta corretta?", "tipo": "scelta_multipla", "opzioni": ["Opzione A", "Opzione B", "Opzione C", "Opzione D"]}, {"domanda": "Domanda 47: Qual è la risposta corretta?", "tipo": "scelta_multipla", "opzioni": ["Opzione A", "Opzione B", "Opzione C", "Opzione D"]}, {"domanda": "Domanda 48: Qual è la risposta corretta?", "tipo": "scelta_multipla", "opzioni": ["Opzione A", "Opzione B", "Opzione C", "Opzione D"]}, {"domanda": "Domanda 49: Qual è la risposta corretta?", "tipo": "scelta_multipla", "opzioni": ["Opzione A", "Opzione B", "Opzione C", "Opzione D"]}, {"domanda": "Domanda 50: Qual è la risposta corretta?", "tipo": "scelta_multipla", "opzioni": ["Opzione A", "Opzione B", "Opzione C", "Opzione D"]}, {"domanda": "Domanda 51: Qual è la risposta corretta?", "tipo": "scelta_multipla", "opzioni": ["Opzione A", "Opzione B", "Opzione C", "Opzione D"]}, {"domanda": "Domanda 52: Qual è la risposta corretta?", "tipo": "scelta_multipla", "opzioni": ["Opzione A", "Opzione B", "Opzione C", "Opzione D"]}, {"domanda": "Domanda 53: Qual è la risposta corretta?", "tipo": "scelta_multipla", "opzioni": ["Opzione A", "Opzione B", "Opzione C", "Opzione D"]}, {"domanda": "Domanda 54: Qual è la risposta corretta?", "tipo": "scelta_multipla", "opzioni": ["Opzione A", "Opzione B", "Opzione C", "Opzione D"]}, {"domanda": "Domanda 55: Qual è la risposta corretta?", "tipo": "scelta_multipla", "opzioni": ["Opzione A", "Opzione B", "Opzione C", "Opzione D"]}, {"domanda": "Domanda 56: Qual è la risposta corretta?", "tipo": "scelta_multipla", "opzioni": ["Opzione A", "Opzione B", "Opzione C", "Opzione D"]}, {"domanda": "Domanda 57: Qual è la risposta corretta?", "tipo": "scelta_multipla", "opzioni": ["Opzione A", "Opzione B", "Opzione C", "Opzione D"]}, {"domanda": "Domanda 58: Qual è la risposta corretta?", "tipo": "scelta_multipla", "opzioni": ["Opzione A", "Opzione B", "Opzione C", "Opzione D"]}, {"domanda": "Domanda 59: Qual è la risposta corretta?", "tipo": "scelta_multipla", "opzioni": ["Opzione A", "Opzione B", "Opzione C", "Opzione D"]}, {"domanda": "Domanda 60: Qual è la risposta corretta?", "tipo": "scelta_multipla", "opzioni": ["Opzione A", "Opzione B", "Opzione C", "Opzione D"]}, {"domanda": "Domanda 61: Qual è la risposta corretta?", "tipo": "scelta_multipla", "opzioni": ["Opzione A", "Opzione B", "Opzione C", "Opzione D"]}, {"domanda": "Domanda 62: Qual è la risposta corretta?", "tipo": "scelta_multipla", "opzioni": ["Opzione A", "Opzione B", "Opzione C", "Opzione D"]}, {"domanda": "Domanda 63: Qual è la risposta corretta?", "tipo": "scelta_multipla", "opzioni": ["Opzione A", "Opzione B", "Opzione C", "Opzione D"]}, {"domanda": "Domanda 64: Qual è la risposta corretta?", "tipo": "scelta_multipla", "opzioni": ["Opzione A", "Opzione B", "Opzione C", "Opzione D"]}, {"domanda": "Domanda 65: Qual è la risposta corretta?", "tipo": "scelta_multipla", "opzioni": ["Opzione A", "Opzione B", "Opzione C", "Opzione D"]}, {"domanda": "Domanda 66: Qual è la risposta corretta?", "tipo": "scelta_multipla", "opzioni": ["Opzione A", "Opzione B", "Opzione C", "Opzione D"]}, {"domanda": "Domanda 67: Qual è la risposta corretta?", "tipo": "scelta_multipla", "opzioni": ["Opzione A", "Opzione B", "Opzione C", "Opzione D"]}, {"domanda": "Domanda 68: Qual è la risposta corretta?", "tipo": "scelta_multipla", "opzioni": ["Opzione A", "Opzione B", "Opzione C", "Opzione D"]}, {"domanda": "Domanda 69: Qual è la risposta corretta?", "tipo": "scelta_multipla", "opzioni": ["Opzione A", "Opzione B", "Opzione C", "Opzione D"]}, {"domanda": "Domanda 70: Qual è la risposta corretta?", "tipo": "scelta_multipla", "opzioni": ["Opzione A", "Opzione B", "Opzione C", "Opzione D"]}, {"domanda": "Domanda 71: Qual è la risposta corretta?", "tipo": "scelta_multipla", "opzioni": ["Opzione A", "Opzione B", "Opzione C", "Opzione D"]}, {"domanda": "Domanda 72: Qual è la risposta corretta?", "tipo": "scelta_multipla", "opzioni": ["Opzione A", "Opzione B", "Opzione C", "Opzione D"]}, {"domanda": "Domanda 73: Qual è la risposta corretta?", "tipo": "scelta_multipla", "opzioni": ["Opzione A", "Opzione B", "Opzione C", "Opzione D"]}, {"domanda": "Domanda 74: Qual è la risposta corretta?", "tipo": "scelta_multipla", "opzioni": ["Opzione A", "Opzione B", "Opzione C", "Opzione D"]}, {"domanda": "Domanda 75: Qual è la risposta corretta?", "tipo": "scelta_multipla", "opzioni": ["Opzione A", "Opzione B", "Opzione C", "Opzione D"]}, {"domanda": "Domanda 76: Qual è la risposta corretta?", "tipo": "scelta_multipla", "opzioni": ["Opzione A", "Opzione B", "Opzione C", "Opzione D"]}, {"domanda": "Domanda 77: Qual è la risposta corretta?", "tipo": "scelta_multipla", "opzioni": ["Opzione A", "Opzione B", "Opzione C", "Opzione D"]}, {"domanda": "Domanda 78: Qual è la risposta corretta?", "tipo": "scelta_multipla", "opzioni": ["Opzione A", "Opzione B", "Opzione C", "Opzione D"]}, {"domanda": "Domanda 79: Qual è la risposta corretta?", "tipo": "scelta_multipla", "opzioni": ["Opzione A", "Opzione B", "Opzione C", "Opzione D"]}, {"domanda": "Domanda 80: Qual è la risposta corretta?", "tipo": "scelta_multipla", "opzioni": ["Opzione A", "Opzione B", "Opzione C", "Opzione D"]}, {"domanda": "Domanda aperta: Descrivi un momento importante per Robinson Crusoe.", "tipo": "aperta"}];

    function caricaDomande() {
      const quizDiv = document.getElementById('quiz');
      tutteDomande.forEach((domanda, i) => {
        const div = document.createElement('div');
        div.className = 'domanda';
        if (domanda.tipo === 'scelta_multipla') {
          div.innerHTML = `<p>${i + 1}. ${domanda.domanda}</p>` +
            domanda.opzioni.map(opt =>
              `<div class="opzione"><label><input type="radio" name="q${i}" value="${opt}"> ${opt}</label></div>`
            ).join('');
        } else if (domanda.tipo === 'aperta') {
          div.innerHTML = `<p>${i + 1}. ${domanda.domanda}</p><textarea name="q${i}"></textarea>`;
        }
        quizDiv.appendChild(div);
      });
    }

    document.getElementById('invia').addEventListener('click', async () => {
      const contenitore = document.getElementById('contenutoPdf');
      contenitore.innerHTML = "<h2>Risposte del quiz</h2>";
      contenitore.style.display = 'block';

      const domande = document.querySelectorAll('.domanda');
      domande.forEach((d, i) => {
        const testoDomanda = d.querySelector('p')?.innerText || `Domanda ${i + 1}`;
        const risposta = d.querySelector('input[type="radio"]:checked')?.value ||
                         d.querySelector('textarea')?.value?.trim() || "[Nessuna risposta]";
        contenitore.innerHTML += `<p><strong>${i + 1}. ${testoDomanda}</strong><br>Risposta: ${risposta}</p>`;
      });

      await new Promise(r => setTimeout(r, 100));

      const nomeFile = prompt("Inserisci il nome del file PDF:");
      if (nomeFile) {
        await html2pdf().from(contenitore).save(nomeFile + ".pdf");
      }

      contenitore.style.display = 'none';
    });

    caricaDomande();
  </script>
</body>
</html>
